using System.Windows;
using DevExpress.Xpf.Core;
using DevExpress.Xpf.Grid;
using KursAM2.View.Helper;

namespace KursAM2.View.Logistiks.Warehouse
{
    /// <summary>
    ///     Interaction logic for WayBillView2.xaml
    /// </summary>
    public partial class WayBillView2
    {
        public WayBillView2()
        {
            InitializeComponent(); 
            
        }

        private void GridRows_OnAutoGeneratingColumn(object sender, AutoGeneratingColumnEventArgs e)
        {
            e.Column.Name = e.Column.FieldName;
        }

        private void GridRows_OnAutoGeneratedColumns(object sender, RoutedEventArgs e)
        {
        }

        private void GridLayoutHelper_Trigger(object sender, MyEventArgs e)
        {
            var maxWidith = new GridColumnWidth(800);
           
            if (e.LayoutChangedTypes.Contains(LayoutChangedType.ColumnWidth))
            {
                if (sender is GridLayoutHelper m)
                {
                    if(m.AssociatedObject is GridControl grid)
                        foreach(var col in grid.Columns)
                            if (col.Width.Value > maxWidith.Value )
                            {
                                col.Width = maxWidith;
                            }
                }
            }
        }

        private void TableViewRows_OnCellValueChanged(object sender, CellValueChangedEventArgs e)
        {
        }
    }
}
