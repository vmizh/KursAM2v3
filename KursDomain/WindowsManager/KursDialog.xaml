<dx:ThemedWindow
    x:Class="KursDomain.WindowsManager.KursDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
    Title="" Height="270" Width="600"
    WindowStartupLocation="CenterScreen"
    WindowStyle="None"
    ResizeMode="CanResize" 
    BorderBrush="{Binding BorderBrush}"
    Topmost="True" 
    Loaded="ThemedWindow_Loaded"
    Padding="0" 
    Background="Transparent" 
    AllowsTransparency="True" 
    BorderThickness="0"
    >
    <Border CornerRadius="15">
    <Grid Margin="0">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <TextBox HorizontalContentAlignment="Center" 
                 VerticalContentAlignment="Center"
                 Text="{Binding Text,NotifyOnSourceUpdated=True}" 
                 Grid.Column="1" 
                 Grid.Row="1" 
                 MinHeight="200" 
                 MinWidth="300"
                 IsReadOnly="True"
                 TextWrapping="Wrap"
                 />

        <WrapPanel Grid.Row="2" Grid.ColumnSpan="2" Grid.Column="0" 
                   HorizontalAlignment="Center" 
                   VerticalAlignment="Center"
                   Margin="10">
            <ItemsControl ItemsSource="{Binding Path=Buttons,NotifyOnSourceUpdated=True}"
                          MinHeight="40">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center"/>
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Button MinWidth="50" Margin="0 0 10 0">
                        <ControlTemplate TargetType="{x:Type Button}">
                            <Border
                                x:Name="ButtonBorder"
                                BorderBrush="#93b3bd"
                                CornerRadius="20"
                                BorderThickness="0,1"
                                Background="White"
                                RenderTransformOrigin="0.5,0.5">
                                <ContentPresenter x:Name="ButtonContentPresenter"
                                                  VerticalAlignment="Center"
                                                  HorizontalAlignment="Center"
                                                  TextBlock.Foreground="White" />
                            </Border>
                        </ControlTemplate>
                            </Button>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>  
            </ItemsControl>
        </WrapPanel>
    </Grid>
        </Border>
</dx:ThemedWindow>
